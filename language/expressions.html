
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Expressions &#8212; The SMOL Language  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic_mod.css?v=0.7.0-1" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <script src="../_static/js/petite-vue.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Statements" href="statements.html" />
    <link rel="prev" title="Datatypes" href="datatypes.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="../index.html" title="Go to homepage">SMOL</a></h1>
            <a id="source_link" href="https://github.com/smolang/SemanticObjects/">
    
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <path fill="white" d="M 244.8,8 C 106.1,8 0,113.3 0,252 c 0,110.9 69.8,205.8 169.5,239.2 12.8,2.3 17.3,-5.6 17.3,-12.1 0,-6.2 -0.3,-40.4 -0.3,-61.4 0,0 -70,15 -84.7,-29.8 0,0 -11.4,-29.1 -27.8,-36.6 0,0 -22.9,-15.7 1.6,-15.4 0,0 24.9,2 38.6,25.8 21.9,38.6 58.6,27.5 72.9,20.9 2.3,-16 8.8,-27.1 16,-33.7 -55.9,-6.2 -112.3,-14.3 -112.3,-110.5 0,-27.5 7.6,-41.3 23.6,-58.9 -2.6,-6.5 -11.1,-33.3 2.6,-67.9 20.9,-6.5 69,27 69,27 20,-5.6 41.5,-8.5 62.8,-8.5 21.3,0 42.8,2.9 62.8,8.5 0,0 48.1,-33.6 69,-27 13.7,34.7 5.2,61.4 2.6,67.9 16,17.7 25.8,31.5 25.8,58.9 0,96.5 -58.9,104.2 -114.8,110.5 9.2,7.9 17,22.9 17,46.4 0,33.7 -0.3,75.4 -0.3,83.6 0,6.5 4.6,14.4 17.3,12.1 C 428.2,457.8 496,362.9 496,252 496,113.3 383.5,8 244.8,8 Z"/>
        </svg>
    
</a>
        

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="../search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../language.html">Language Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lexical-structure.html">Lexical Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="datatypes.html">Datatypes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="statements.html">Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="semantic-access.html">Semantic Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="fmos.html">Functional Mock-Up Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../internals.html">Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications.html">Publications</a></li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="expressions">
<h1>Expressions<a class="headerlink" href="#expressions" title="Permalink to this heading">¶</a></h1>
<p>This chapter describes all expressions of SMOL.  Informally, expressions are
the language elements that can occur on the right hand side of an assignment (even though they can be written on their own, see <a class="reference internal" href="statements.html#expression-statement-ref"><span class="std std-ref">The Expression Statement</span></a>).</p>
<p>Expressions are divided syntactially into two categories: <em>Simple
Expressions</em>, which can be nested, and <em>Top Level Expressions</em>, which cannot
be sub-expressions of other expressions.  This slight notational inconvenience
makes it easier to develop static analysis techniques and tools for SMOL.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>Expression <span class="o">::=</span> SimpleExpression
             | TopLevelExpression

SimpleExpression <span class="o">::=</span> LiteralExpression
                   | OperatorExpression
                   | NullExpression
                   | ThisExpression
                   | VariableExpression
                   | FieldExpression
                   | FmuFieldExpression

TopLevelExpression <span class="o">::=</span> NewExpression
                     | NewFmuExpression
                     | MethodCallExpression
                     | SuperExpression
                     | QueryExpression
                     | ConstructExpression
                     | ConceptExpression
                     | ShapeExpression
</pre></div>
</div>
<section id="literal-expressions">
<h2>Literal Expressions<a class="headerlink" href="#literal-expressions" title="Permalink to this heading">¶</a></h2>
<p>All literals, as defined in <a class="reference internal" href="lexical-structure.html#literals-ref"><span class="std std-ref">Literals</span></a>, can be used as simple expressions.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>LiteralExpression <span class="o">::=</span> Literal
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;This is a string&quot;</span>
<span class="mf">5.13</span>
<span class="kc">false</span>
</pre></div>
</div>
</section>
<section id="unary-and-binary-operator-expressions">
<h2>Unary and Binary Operator Expressions<a class="headerlink" href="#unary-and-binary-operator-expressions" title="Permalink to this heading">¶</a></h2>
<p>SMOL has a range of unary and binary operators working on pre-defined
datatypes.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>OperatorExpression <span class="o">::=</span> UnaryOperatorExpression | BinaryOperatorExpression

UnaryOperatorExpression <span class="o">::=</span> UnaryOperator Expression

UnaryOperator <span class="o">::=</span> &#39;!&#39;

BinaryOperatorExpression <span class="o">::=</span> Expression BinaryOperator Expression

BinaryOperator <span class="o">::=</span> &#39;/&#39; | &#39;%&#39; | &#39;*&#39; | &#39;+&#39; | &#39;-&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&gt;=&#39; | &#39;<span class="p">&lt;</span><span class="nc">=&#39; | &#39;</span><span class="p">&gt;</span>&#39; | &#39;&lt;&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span>
<span class="n">bid</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">customer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;VIP&quot;</span>
</pre></div>
</div>
<p>The following table describes the meaning as well as the associativity and the
precedence of the different operators. The list is sorted from low precedence
to high precedence.</p>
<table class="docutils align-left" id="id1">
<caption><span class="caption-text">Operators</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Expression</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>Argument types</p></th>
<th class="head"><p>Result type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">!</span> <span class="pre">e</span></code></p></td>
<td><p>logical negation</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">||</span> <span class="pre">e2</span></code></p></td>
<td><p>logical or</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">&amp;&amp;</span> <span class="pre">e2</span></code></p></td>
<td><p>logical and</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">&lt;</span> <span class="pre">e2</span></code></p></td>
<td><p>less than</p></td>
<td><p>numeric</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">&gt;</span> <span class="pre">e2</span></code></p></td>
<td><p>greater than</p></td>
<td><p>numeric</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">&lt;=</span> <span class="pre">e2</span></code></p></td>
<td><p>less or equal than</p></td>
<td><p>numeric</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">&gt;=</span> <span class="pre">e2</span></code></p></td>
<td><p>greater or equal than</p></td>
<td><p>numeric</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">!=</span> <span class="pre">e2</span></code></p></td>
<td><p>not equal to</p></td>
<td><p>compatible</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">==</span> <span class="pre">e2</span></code></p></td>
<td><p>equal to</p></td>
<td><p>compatible</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">-</span> <span class="pre">e2</span></code></p></td>
<td><p>subtraction</p></td>
<td><p>numeric</p></td>
<td><p>numeric</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">+</span> <span class="pre">e2</span></code></p></td>
<td><p>addition</p></td>
<td><p>numeric</p></td>
<td><p>numeric</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">*</span> <span class="pre">e2</span></code></p></td>
<td><p>multiplication</p></td>
<td><p>numeric</p></td>
<td><p>numeric</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">%</span> <span class="pre">e2</span></code></p></td>
<td><p>modulus</p></td>
<td><p>numeric</p></td>
<td><p>numeric</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">/</span> <span class="pre">e2</span></code></p></td>
<td><p>division</p></td>
<td><p>numeric</p></td>
<td><p>numeric</p></td>
</tr>
</tbody>
</table>
<section id="semantics-of-comparison-operators">
<h3>Semantics of Comparison Operators<a class="headerlink" href="#semantics-of-comparison-operators" title="Permalink to this heading">¶</a></h3>
<p>Equality and inequality comparison is standard: by value for datatypes and by
reference for objects. I.e., two strings “Hello” compare as identical via
<code class="docutils literal notranslate"><span class="pre">==</span></code>, as do two numbers. Two references to objects compare as identical via
<code class="docutils literal notranslate"><span class="pre">==</span></code> if they point to the same object or future. The inequality operator
<code class="docutils literal notranslate"><span class="pre">!=</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code> for any two values that compare to <code class="docutils literal notranslate"><span class="pre">False</span></code>
under <code class="docutils literal notranslate"><span class="pre">==</span></code> and vice versa.</p>
<p>The less-than operator <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> and the other comparison operators compare
numbers of different types (integers vs floats) in the expected way.</p>
</section>
</section>
<section id="the-null-expression">
<h2>The Null Expression<a class="headerlink" href="#the-null-expression" title="Permalink to this heading">¶</a></h2>
<p>The null expression evaluates to a value denoting an invalid object.  It can
be used, e.g., to initialize a variable that will be assigned another value
later in the program.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>NullExpression <span class="o">::=</span> &#39;null&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kc">null</span>
</pre></div>
</div>
</section>
<section id="the-this-expression">
<h2>The This Expression<a class="headerlink" href="#the-this-expression" title="Permalink to this heading">¶</a></h2>
<p>This expression evaluates to the current object.  This expression cannot be
used in the main block, since the main block does not execute within the scope
of an object.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>ThisExpression <span class="o">::=</span> &#39;this&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">this</span>
</pre></div>
</div>
</section>
<section id="the-variable-expression">
<h2>The Variable Expression<a class="headerlink" href="#the-variable-expression" title="Permalink to this heading">¶</a></h2>
<p>Variable expressions evaluate to the current content of the named variable.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>VariableExpression <span class="o">::=</span> Identifier
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">x</span>
<span class="n">a_long_variable_name</span>
</pre></div>
</div>
</section>
<section id="the-field-expression">
<h2>The Field Expression<a class="headerlink" href="#the-field-expression" title="Permalink to this heading">¶</a></h2>
<p>Field expressions evaluate to the current content of the named field in the
given object.  The object can be <code class="docutils literal notranslate"><span class="pre">this</span></code> or another object.</p>
<p>Note that fields of the current object cannot be accessed without the <code class="docutils literal notranslate"><span class="pre">this.</span></code> prefix.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>FieldExpression <span class="o">::=</span> SimpleExpression &#39;.&#39; Identifier
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="na">x</span>
<span class="n">an_object</span><span class="p">.</span><span class="na">a_long_field_name</span>
</pre></div>
</div>
</section>
<section id="the-fmu-field-expression">
<h2>The FMU Field Expression<a class="headerlink" href="#the-fmu-field-expression" title="Permalink to this heading">¶</a></h2>
<p>This expression reads the current value of the named out port of the given
<a class="reference internal" href="../glossary.html#term-FMU"><span class="xref std std-term">FMU</span></a>.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>FmuFieldExpression <span class="o">::=</span> SimpleExpression &#39;.&#39; &#39;port&#39; &#39;(&#39; StringLiteral &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">my_fmu</span><span class="p">.</span><span class="na">port</span><span class="p">(</span><span class="s">&quot;outport&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-new-expression">
<h2>The New Expression<a class="headerlink" href="#the-new-expression" title="Permalink to this heading">¶</a></h2>
<p>The New expression creates a new object of the given class.  Values for the
class’s constructor parameters are given as simple expressions inside
parentheses. All generic type parameters of a class must be instantiated.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">models</span></code> clause overrides any <code class="docutils literal notranslate"><span class="pre">domain</span></code> modifier or <code class="docutils literal notranslate"><span class="pre">models</span></code>
clause of the new object’s class declarations (see
<a class="reference internal" href="classes.html#class-declaration-ref"><span class="std std-ref">Class Declarations</span></a>).</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>NewExpression <span class="o">::=</span> &#39;new&#39; Type &#39;(&#39; ( SimpleExpression ( &#39;,&#39; SimpleExpression)* )?  &#39;)&#39; ( &#39;models&#39; SimpleExpression )
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s">&quot;Name&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span><span class="w"> </span><span class="n">models</span><span class="w"> </span><span class="s">&quot;a :person&quot;</span>
</pre></div>
</div>
</section>
<section id="the-new-fmu-expression">
<h2>The New FMU Expression<a class="headerlink" href="#the-new-fmu-expression" title="Permalink to this heading">¶</a></h2>
<p>This expression creates a new instance of the given FMU.  The expression takes
first a literal string containing the path to the FMU file, followed by zero
or more initializer terms for the FMU’s parameters.  All parameters specified
by the FMU in its <code class="docutils literal notranslate"><span class="pre">modelDescription.xml</span></code> file must be initialized.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>NewFmuExpression <span class="o">::=</span> &#39;simulate&#39; &#39;(&#39; StringLiteral (&#39;,&#39; Identifier &#39;:=&#39; SimpleExpression)* &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">simulate</span><span class="p">(</span><span class="s">&quot;../Sim.fmu&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">iValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">slope</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.5</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-method-call-expression">
<h2>The Method Call Expression<a class="headerlink" href="#the-method-call-expression" title="Permalink to this heading">¶</a></h2>
<p>This expression invokes the named method on the given object instance.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>MethodCallExpression <span class="o">::=</span> Expression &#39;.&#39; Identifier &#39;(&#39; ( SimpleExpression ( &#39;,&#39; SimpleExpression)* )? &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="na">doWork</span><span class="p">();</span>
<span class="n">worker</span><span class="p">.</span><span class="na">processRequest</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="the-super-expression">
<h2>The <code class="docutils literal notranslate"><span class="pre">super</span></code> Expression<a class="headerlink" href="#the-super-expression" title="Permalink to this heading">¶</a></h2>
<p>This expression invokes the method as defined in a superclass of the current
object’s class from within the overriding method.  The <code class="docutils literal notranslate"><span class="pre">super</span></code> expression is
only valid inside a method that overrides a superclass’s method.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>SuperExpression <span class="o">::=</span> &#39;super&#39; &#39;(&#39; ( SimpleExpression ( &#39;,&#39; SimpleExpression)* )? &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">super</span><span class="p">.</span><span class="na">doWork</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="the-query-expression">
<h2>The Query Expression<a class="headerlink" href="#the-query-expression" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">access</span></code> top-level expression retrieves a list of literals or lifted objects using a query mode <code class="docutils literal notranslate"><span class="pre">SPARQL</span></code> to access the semantically lifted state or <code class="docutils literal notranslate"><span class="pre">INFLUXDB</span></code> to access an external InfluxDB database. If no query mode is given, <code class="docutils literal notranslate"><span class="pre">SPARQL</span></code> is the default.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>QueryMode <span class="o">::=</span> &#39;SPARQL&#39; | (&#39;INFLUXDB&#39; &#39;(&#39; StringLiteral &#39;)&#39;)

QueryExpression <span class="o">::=</span> &#39;access&#39; &#39;(&#39; SimpleExpression (&#39;,&#39; QueryMode)? ( &#39;,&#39; SimpleExpression)* &#39;)&#39;
</pre></div>
</div>
<p>In <code class="docutils literal notranslate"><span class="pre">SPARQL</span></code> mode, it takes as its first parameter a <code class="docutils literal notranslate"><span class="pre">String</span></code>-literal containing an extended <a class="reference external" href="https://www.w3.org/TR/sparql11-overview/">SPARQL</a> query, which additionally may contain non-answer variables of the form <code class="docutils literal notranslate"><span class="pre">%i</span></code> for some strictly positive number <code class="docutils literal notranslate"><span class="pre">i</span></code>. The set of numbers for the non-answer variables must form an interval [1,n] for some n.
Additionally, the top-level expression takes a list of expressions of the length n.</p>
<p>At runtime, these expressions are evaluated and the result is syntactically substituted for the corresponding non-answer variable.
The SPARQL query must contain a <code class="docutils literal notranslate"><span class="pre">?obj</span></code> variable.</p>
<p><em>Example:</em> The following retrieves all objects <code class="docutils literal notranslate"><span class="pre">o</span></code> of type <code class="docutils literal notranslate"><span class="pre">C</span></code> with <code class="docutils literal notranslate"><span class="pre">o.b.c</span> <span class="pre">==</span> <span class="pre">this.x</span></code>.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>List<span class="p">&lt;</span><span class="nc">C</span><span class="p">&gt;</span> l = access(&quot;SELECT ?obj WHERE {?obj prog:C_b ?b. ?b prog:D_c %1 }&quot;, this.x);
</pre></div>
</div>
<p>In <code class="docutils literal notranslate"><span class="pre">INFLUXDB</span></code> mode, the first parameter is an InfluxDB query with a single answer variable. Non-answer variables are not supported and the query mode has a parameter itself, which is
a <code class="docutils literal notranslate"><span class="pre">String</span></code>-literal containing a path to a <a class="reference external" href="https://yaml.org/">YAML</a> configuration to connect to the InfluxDB endpoint.
The result is always a <code class="docutils literal notranslate"><span class="pre">List</span></code> of <code class="docutils literal notranslate"><span class="pre">Double</span></code> values.</p>
<p><em>Example:</em></p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>main
  List<span class="p">&lt;</span><span class="nc">Double</span><span class="p">&gt;</span> list := access(
  &quot;from(bucket: \&quot;petwin\&quot;)
    |&gt; range(start: -1h, stop: -1m)
    |&gt; filter(fn: (r) =&gt; r[\&quot;_measurement\&quot;] == \&quot;chili\&quot;)
    |&gt; filter(fn: (r) =&gt; r[\&quot;_field\&quot;] == \&quot;temperature\&quot;)
    |&gt; filter(fn: (r) =&gt; r[\&quot;name\&quot;] == \&quot;faarikaal1\&quot;)
    |&gt; aggregateWindow(every: 5m, fn: mean, createEmpty: false)
    |&gt; yield(name: \&quot;mean\&quot;)&quot;,
  INFLUXDB(&quot;petwin.yml&quot;));
  print(list.content);
end
</pre></div>
</div>
</section>
<section id="the-construct-expression">
<h2>The Construct Expression<a class="headerlink" href="#the-construct-expression" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">construct</span></code> top-level expression constructs a list of <em>new</em> objects from a SPARQL query.
Its parameters are as the one of the <code class="docutils literal notranslate"><span class="pre">access</span></code> top-level expression, but the variables are handled differently:</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>ConstructExpression <span class="o">::=</span> &#39;construct&#39; &#39;(&#39; Expression ( &#39;,&#39; SimpleExpression)* &#39;)&#39;
</pre></div>
</div>
<p>Each variable must have the name of a field of the type of the target location. For each field there must be one variable. All fields must be of primitive data type.</p>
<p><em>Example:</em></p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>class C(Int j1, Int j2) end
...
List<span class="p">&lt;</span><span class="nc">C</span><span class="p">&gt;</span> v = construct(&quot;SELECT ?j1 ?j2 WHERE { ?y a prog:B. ?y prog:B_i2 ?j2.?y prog:B_a ?x.?x a prog:A. ?x prog:A_i1 ?j1 }&quot;);
</pre></div>
</div>
</section>
<section id="the-concept-expression">
<h2>The Concept Expression<a class="headerlink" href="#the-concept-expression" title="Permalink to this heading">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">member</span></code> top-level expression retrieves the list of objects described by an OWL concept.
The parameter must be a <code class="docutils literal notranslate"><span class="pre">String</span></code>-literal containing a concept in <a class="reference external" href="https://www.w3.org/TR/owl2-manchester-syntax/">Manchester syntax</a>.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>ConceptExpression <span class="o">::=</span> &#39;member&#39; &#39;(&#39; Expression &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em> The following retrieves all members of class <code class="docutils literal notranslate"><span class="pre">C</span></code> that model some domain concept <code class="docutils literal notranslate"><span class="pre">domain:D</span></code>.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>List<span class="p">&lt;</span><span class="nc">C</span><span class="p">&gt;</span> list := member(&quot;<span class="p">&lt;</span><span class="nc">domain:models</span><span class="p">&gt;</span> some <span class="p">&lt;</span><span class="nc">domain:D</span><span class="p">&gt;</span>&quot;);
</pre></div>
</div>
<p>The execution fails if the concept is either mal-formed or contains elements that are not IRIs of lifted objects.</p>
</section>
<section id="the-shape-expression">
<h2>The Shape Expression<a class="headerlink" href="#the-shape-expression" title="Permalink to this heading">¶</a></h2>
<p>Shape access validates the correctness of the lifted knowledge graph with respect to a graph shape using the top-level expression <code class="docutils literal notranslate"><span class="pre">validate(Literal)</span></code>.
The parameter must be a <code class="docutils literal notranslate"><span class="pre">String</span></code>-literal containing a path to <a class="reference external" href="https://www.w3.org/TR/shacl/">SHACL</a> shapes in <a class="reference external" href="https://www.w3.org/TR/turtle/">turtle</a> syntax.</p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>ShapeExpression <span class="o">::=</span> &#39;validate&#39; &#39;(&#39; Expression &#39;)&#39;
</pre></div>
</div>
<p><em>Example:</em></p>
<div class="highlight-BNF notranslate"><div class="highlight"><pre><span></span>Boolean b  = validate(&quot;examples/double.ttl&quot;);
</pre></div>
</div>
<p>The execution fails if the file does not accessable or the SHACL shapes are mal-formed.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon"><</span><span>Page contents<span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">></span><span>Page contents:<span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">Expressions</a><ul>
<li><a class="reference internal" href="#literal-expressions">Literal Expressions</a></li>
<li><a class="reference internal" href="#unary-and-binary-operator-expressions">Unary and Binary Operator Expressions</a><ul>
<li><a class="reference internal" href="#semantics-of-comparison-operators">Semantics of Comparison Operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-null-expression">The Null Expression</a></li>
<li><a class="reference internal" href="#the-this-expression">The This Expression</a></li>
<li><a class="reference internal" href="#the-variable-expression">The Variable Expression</a></li>
<li><a class="reference internal" href="#the-field-expression">The Field Expression</a></li>
<li><a class="reference internal" href="#the-fmu-field-expression">The FMU Field Expression</a></li>
<li><a class="reference internal" href="#the-new-expression">The New Expression</a></li>
<li><a class="reference internal" href="#the-new-fmu-expression">The New FMU Expression</a></li>
<li><a class="reference internal" href="#the-method-call-expression">The Method Call Expression</a></li>
<li><a class="reference internal" href="#the-super-expression">The <code class="docutils literal notranslate"><span class="pre">super</span></code> Expression</a></li>
<li><a class="reference internal" href="#the-query-expression">The Query Expression</a></li>
<li><a class="reference internal" href="#the-construct-expression">The Construct Expression</a></li>
<li><a class="reference internal" href="#the-concept-expression">The Concept Expression</a></li>
<li><a class="reference internal" href="#the-shape-expression">The Shape Expression</a></li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
                <a href="datatypes.html">
                    <span class="icon"><</span><span>Datatypes</span></a>
                
            </div>

            <div class="right">
                
                    <a href="statements.html"><span>Statements</span><span class="icon">></span></a>
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Eduard Kamburjan, Rudolf Schlatte.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>

<p id="theme_credit">Styled using the <a href="https://github.com/piccolo-orm/piccolo_theme">Piccolo Theme</a></p>
  </body>
</html>